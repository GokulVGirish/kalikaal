<%- include("../partials/adminHeader") %>
        <section class="content-main">
            <div class="content-header">
                <div>
                    <h2 class="content-title card-title">Edit category</h2>
                </div>
            </div>
            <div class="card mb-4">
                <!-- card-header end// -->
                <div class="card-body">
                    <form method="post" action="/admin/editcategory/<%= cat._id %>?_method=PUT" onsubmit="return validateForm()">
                         <input type="hidden" name="_method" value="PUT">
                        <div class="mb-4">
                            <label for="product_name" class="form-label">Category Name</label>
                            <input type="text" placeholder="Type here" name="name" class="form-control border"
                                id="category_name" value="<%= cat.name %>">
                            <div id="productName-error" class="error-message"></div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">Full description</label>
                            <textarea placeholder="Type here" name="description" class="form-control border" rows="4"
                                id="description_name" ><%= cat.description %></textarea>
                            <div id="description-error" class="error-message"></div>
                        </div>

                        <div>
                            <!-- <button class="btn btn-md rounded font-sm hover-up" type="button" onclick="validateAndSubmit()">Publish</button> -->
                            <input type="submit" value="publish" class="btn btn-md rounded font-sm hover-up"
                                onclick="validateAndSubmit()">
                        </div>
                    </form>




                    <!-- itemlist  .// -->

                </div> <!-- card-body end// -->
            </div> <!-- card end// -->

        </section> <!-- content-main end// -->
        <footer class="main-footer font-xs">
            <div class="row pb-30 pt-15">
                <div class="col-sm-6">
                    <script>
                        document.write(new Date().getFullYear())
                    </script> Â©, Evara - HTML Ecommerce Template .
                </div>
                <div class="col-sm-6">
                    <div class="text-sm-end">
                        All rights reserved
                    </div>
                </div>
            </div>
        </footer>
    </main>
    <script src="/public/admin-assets/js/vendors/jquery-3.6.0.min.js"></script>
    <script src="/public/admin-assets/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="/public/admin-assets/js/vendors/select2.min.js"></script>
    <script src="/public/admin-assets/js/vendors/perfect-scrollbar.js"></script>
    <script src="/public/admin-assets/js/vendors/jquery.fullscreen.min.js"></script>
    <!-- Main Script -->
    <script src="/public/admin-assets/js/main.js" type="text/javascript"></script>
    
 
    <script>
        function validateAndSubmit() {
            if (validateForm()) {
                // If validation passes, submit the form
                document.forms[0].submit(); // Assuming this is the first (and only) form on your page
            }
        }

        function validateForm() {
            // Reset previous error messages
            resetErrorMessages();

            var isValid = true;

            var categoryName = document.getElementById("category_name").value;
            var descriptionName = document.getElementById("description_name").value;

            // Log the value of descriptionName for debugging
            console.log("Description value:", descriptionName);

            // Check if inputs are not empty
            if (categoryName === "") {
                displayErrorMessage("productName-error", "Category Name is required");
                isValid = false;
            }

            // Check if description is not empty
            if (descriptionName === "") {
                displayErrorMessage("description-error", "Description is required");
                isValid = false;
            }

            return isValid;
        }


        function displayErrorMessage(elementId, message) {
            var errorElement = document.getElementById(elementId);
            errorElement.innerText = message;
            errorElement.style.display = "block";
        }

        function resetErrorMessages() {
            var errorElements = document.querySelectorAll(".error-message");
            errorElements.forEach(function (element) {
                element.innerText = "";
                element.style.display = "none";
            });
        }
    </script>
</body>




</html>